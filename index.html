<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <title>Find Github users : Akshay ffb</title>
</head>

<body>

  <div class="container p-5">
    <div class="text-center">
      <h3>Get to Know Any Github User's Profile</h3>

      <div class="row justify-content-center m-4">
        <div class="col-sm-6 col-md-4 col-lg-3 form-outline mb-3 mb-sm-0">
          <input type="text" class="form-control form-control-sm" id="searchQuery" aria-describedby="emailHelp"
            placeholder="Search by Username or Id">
        </div>
        <div class="col-sm-6 col-md-4 col-lg-2">
          <button type="button" class="btn btn-primary btn-sm w-100" onclick="change()">Get Data</button>
        </div>
      </div>

      </div>
      <div id="para" class="container mt-5"></div>
    </div>
  </div>


  <script>
    function change() {
      var changing = new XMLHttpRequest();
      var searchQuery = document.getElementById("searchQuery").value;
      var para = document.getElementById("para");
      // var img = document.getElementById("img");
      changing.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          var responseData = JSON.parse(this.responseText);
          var output = "<div class='user-details'>";
          output += "<div class='col-md-3'>";
            output += "<img src='" + responseData.avatar_url + "' alt='Avatar' class='avatar rounded-circle'>";
            output += "</div>";
          output += "<div class='col-md-9'>";
          output += "<h3>" + responseData.login + "</h3>";
          // output += "";
          output += "<li><b>ID:</b> " + responseData.id + "</li>";
          output += "<li><b>Name:</b> " + (responseData.name ? responseData.name : "N/A") + "</li>";
          output += "<li><b>Company:</b> " + (responseData.company ? responseData.company : "N/A") + "</li>";
          output += "<li><b>Location:</b> " + (responseData.location ? responseData.location : "N/A") + "</li>";
          output += "<li><b>Email:</b> " + (responseData.email ? "<a href='mailto:" + responseData.email + "'>" + responseData.email + "</a> <i class='fas fa-check'></i>" : "N/A") + "</li>";
          output += "<li><b>Twitter:</b> " + (responseData.twitter_username ? "<a href='https://twitter.com/" + responseData.twitter_username + "'>" + responseData.twitter_username + "</a>" : "N/A") + "</li>";
          output += "<li><b>Website:</b> " + (responseData.blog ? "<a href='" + responseData.blog + "' target='_blank'>" + responseData.blog + "</a>" : "N/A") + "</li>";
          output += "<li><b>Profile:</b> " + (responseData.html_url ? "<a href='" + responseData.html_url + "' target='_blank'>" + responseData.html_url + "</a>" : "N/A") + "</li>";
          output += "<li><b>Followers List:</b> " + (responseData.followers_url ? "<a href='" + responseData.followers_url + "' target='_blank'>" + responseData.followers_url + "</a>" : "N/A") + "</li>";
          output += "<li><b>Following List:</b> " + (responseData.following_url ? "<a href='" + responseData.following_url + "' target='_blank'>" + responseData.following_url + "</a>" : "N/A") + "</li>";

          output += "<li><b>Gists:</b> " + (responseData.gists_url ? "<a href='" + responseData.gists_url + "' target='_blank'>" + responseData.gists_url + "</a>" : "N/A") + "</li>";
          output += "<li><b>Starred:</b> " + (responseData.starred_url ? "<a href='" + responseData.starred_url + "' target='_blank'>" + responseData.starred_url + "</a>" : "N/A") + "</li>";
          output += "<li><b>Subscriptions:</b> " + (responseData.subscriptions_url ? "<a href='" + responseData.subscriptions_url + "' target='_blank'>" + responseData.subscriptions_url + "</a>" : "N/A") + "</li>";
          output += "<li><b>Organization:</b> " + (responseData.organizations_url ? "<a href='" + responseData.organizations_url + "' target='_blank'>" + responseData.organizations_url + "</a>" : "N/A") + "</li>";
          output += "<li><b>Repository:</b> " + (responseData.repos_url ? "<a href='" + responseData.repos_url + "' target='_blank'>" + responseData.repos_url + "</a>" : "N/A") + "</li>";
          output += "<li><b>Events:</b> " + (responseData.events_url ? "<a href='" + responseData.events_url + "' target='_blank'>" + responseData.events_url + "</a>" : "N/A") + "</li>";

          output += "<li><b>Received Events:</b> " + (responseData.received_events_url ? "<a href='" + responseData.received_events_url + "' target='_blank'>" + responseData.received_events_url + "</a>" : "N/A") + "</li>";
          output += "<li><b>Type:</b> " + (responseData.type ? "<a href='" + responseData.type + "' target='_blank'>" + responseData.type + "</a>" : "N/A") + "</li>";
          output += "<li><b>Site Admin:</b> " + (responseData.site_admin ? "<a href='" + responseData.site_admin + "' target='_blank'>" + responseData.site_admin + "</a>" : "N/A") + "</li>";
          output += "<li><b>Hireable :</b> " + (responseData.hireable ? "<a href='" + responseData.hireable + "' target='_blank'>" + responseData.hireable + "</a>" : "N/A") + "</li>";
          output += "<li><b>Bio:</b> " + (responseData.bio ? "<a href='" + responseData.bio + "' target='_blank'>" + responseData.bio + "</a>" : "N/A") + "</li>";

          output += "<li><b>Public Repositories:</b> " + (responseData.public_repos ? "<a href='" + responseData.public_repos + "' target='_blank'>" + responseData.public_repos + "</a>" : "N/A") + "</li>";
          output += "<li><b>Public Gists:</b> " + (responseData.public_gists ? "<a href='" + responseData.public_gists + "' target='_blank'>" + responseData.public_gists + "</a>" : "N/A") + "</li>";
          output += "<li><b>No of Followers:</b> " + (responseData.followers ? "<a href='" + responseData.followers + "' target='_blank'>" + responseData.followers + "</a>" : "N/A") + "</li>";
          output += "<li><b>No of Following:</b> " + (responseData.following ? "<a href='" + responseData.following + "' target='_blank'>" + responseData.following + "</a>" : "N/A") + "</li>";
          output += "<li><b>Created_at:</b> " + (responseData.created_at ? "<a href='" + responseData.created_at + "' target='_blank'>" + responseData.created_at + "</a>" : "N/A") + "</li>";
          output += "<li><b>Updated_at:</b> " + (responseData.updated_at ? "<a href='" + responseData.updated_at + "' target='_blank'>" + responseData.updated_at + "</a>" : "N/A") + "</li>";
          output += "</div>";
          output += "</div>";

          // img.innerHTML = outputImg;
          para.innerHTML = output;
          // para.innerHTML = '<pre class="formatted-data">' + formattedData + '</pre>';
        } else if (this.readyState == 4 && this.status == 404) {
          para.innerHTML = '<p class="error-message">Sorry, we couldn\'t find any data for this username/ID on Github</p>';
        }
      };
      changing.open("GET", isNaN(searchQuery) ? "https://api.github.com/users/" + searchQuery : "https://api.github.com/user/" + searchQuery, true);

      changing.send();
    }


  </script>


</body>

</html>